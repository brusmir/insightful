<h2 mat-dialog-title>Bulk Edit</h2>
<mat-dialog-content>
  <form [formGroup]="form">
    <div formArrayName="employees">
      @for(alias of aliases.value; track trackByFn; let idx = $index){
        <h3>{{idx + 1}} Employee</h3>
        <div [formGroupName]="idx">
            <div class="form-row-style">
              <div class="form-column-style">
                <mat-form-field appearance="outline">
                  <mat-label>Employee name:</mat-label>
                  <input matInput placeholder="Placeholder" formControlName="name">
                </mat-form-field>
              </div>
              <div class="form-column-style">
                <mat-form-field appearance="outline">
                  <mat-label>Employee hourly rate:</mat-label>
                  <input matInput placeholder="Placeholder" formControlName="hourlyRate">
                </mat-form-field>
              </div>
            </div>
            <div class="form-row-style">
              <div class="form-column-style">
                <mat-form-field appearance="outline">
                  <mat-label>Employee overtime hourly rate:</mat-label>
                  <input matInput placeholder="Placeholder" formControlName="hourlyRateOvertime">
                </mat-form-field>
              </div>
            </div>
        </div>

        <h3>Shifts</h3>
        <section>
          <div>Today</div>
          <div class="bulk-edit-picker">
            <mat-form-field>
              <mat-label>Choose a date</mat-label>
              <input matInput [matDatepicker]="picker" (dateChange)="filterShifts($event)">
              <mat-hint>MM/DD/YYYY</mat-hint>
              <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
            </mat-form-field>
          </div>
        </section>
        <section class="bulk-edit-container mat-elevation-z8" tabindex="0">
          <table mat-table [dataSource]="alias.shifts">
            <!-- shift Column -->
            <ng-container matColumnDef="shift">
              <th mat-header-cell *matHeaderCellDef> Shift </th>
              <td mat-cell *matCellDef="let element"> Shift </td>
            </ng-container>

            <!-- clockIn Column -->
            <ng-container matColumnDef="clockIn">
              <th mat-header-cell *matHeaderCellDef> Clock in time </th>
              <td mat-cell *matCellDef="let element" (click)="hiddenPicker.open()"> {{element.clockIn | date: 'h:mm a'}} h </td>
            </ng-container>

            <!-- clockOut Column -->
            <ng-container matColumnDef="clockOut">
              <th mat-header-cell *matHeaderCellDef> Clock out time </th>
              <td mat-cell *matCellDef="let element"> {{element.clockOut | date: 'HH:mm'}} h </td>
            </ng-container>

            <!-- sum Column -->
            <ng-container matColumnDef="sum">
              <th mat-header-cell *matHeaderCellDef> Total time </th>
              <td mat-cell *matCellDef="let element"> {{element.sum | date: 'HH:mm'}} h </td>
            </ng-container>

            <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
            <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
          </table>
        </section>

        <mat-divider></mat-divider>
      }
    </div>
  </form>
</mat-dialog-content>
<mat-dialog-actions class="actions-buttons">
  <button mat-raised-button (click)="onNoClick()" type="submit" [disabled]="!form.valid">Save</button>
  <button mat-raised-button [mat-dialog-close]="onClose()">Cancel</button>
</mat-dialog-actions>

<mat-form-field class="bulk-edit-hidden-piker">
  <mat-label>Choose a date</mat-label>
  <input matInput [matDatepicker]="hiddenPicker">
  <mat-hint>MM/DD/YYYY</mat-hint>
  <mat-datepicker #hiddenPicker></mat-datepicker>
</mat-form-field>
